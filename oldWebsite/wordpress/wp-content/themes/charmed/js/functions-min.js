!function(a){"use strict";function b(){a('img.site-logo:not([src^="@2x"])').each(function(){var b=a(this).width()/2,c=a(this).height()/2;a(this).attr("width",b),a(this).attr("height",c)})}function c(){f.find(".brick").each(function(b){var c=a(this),d=Math.floor(100*Math.random()+101)*b;setTimeout(function(){c.addClass("brick--show")},d)})}function d(){var b=a(".bricks");b.imagesLoaded(function(){b.isotope({transitionDuration:"0.2s",itemSelector:".bricks .brick",resizesContainer:!0,isResizeBound:!0,layoutMode:"masonry",getSortData:{views:"[data-views]",date:"[data-date]"},sortAscending:{views:!1,date:!1},hiddenStyle:{opacity:0},visibleStyle:{opacity:1}}),b.isotope(),a(".filter-group a").on("click",function(c){var d=a(this).attr("data-filter"),e=a(".project-filter a"),f="active";return c.preventDefault(),b.isotope({filter:d}),e.removeClass(f),jQuery(this).addClass(f),!1}),b.infinitescroll({navSelector:"#page_nav",nextSelector:"#page_nav a",itemSelector:".brick-fullwidth.brick .brick",loading:{loadingText:"Loading",finishedMsg:"Done Loading",img:""}},function(c){var d=a(c).css({opacity:0});picturefill(),d.imagesLoaded(function(){d.animate({opacity:1}),b.isotope("appended",d)})})})}var e=a("body"),f=(a(".bricks"),a(".bricks"));a("body").fitVids(),NProgress.configure({minimum:.2,showSpinner:!1}),document.onreadystatechange=function(){"interactive"==document.readyState&&NProgress.start()};var g=setInterval(function(){/loaded|complete/.test(document.readyState)&&(clearInterval(g),setTimeout(function(){NProgress.done()},2e3))},10);setTimeout(function(){e.addClass("loaded")},20),a(document).ready(function(){function c(){window.location=d}b(),a(".mobile-menu-toggle").on("click",function(){e.toggleClass("open-nav")});var d;a("a:not(.photoswipe-link)").on("click",function(a){return""==this.href||null==this.href?void a.preventDefault():void(-1==this.href.indexOf("#")&&-1==this.href.indexOf("mailto:")&&-1==this.href.indexOf("javascript:")&&"_blank"!=this.target&&(a.preventDefault(),d=this.href,e.removeClass("loaded"),setTimeout(c,200)))})}),a(window).load(function(){d(),c()})}(jQuery);